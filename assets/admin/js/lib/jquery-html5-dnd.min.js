!function(n){var t=function(n){try{return n.originalEvent.dataTransfer.setData("test","test"),n.originalEvent.dataTransfer.clearData("test"),!0}catch(t){return!1}},e=function(e){var r=this,i={},o={},a={element:"",groups:null,onDragStart:null,onDragEnd:null},l=function(){s(),u(),f(),c()},s=function(){n.extend(!0,i,a,e)},u=function(){o.$element=n(i.element)},f=function(){o.$element.attr("draggable",!0)},c=function(){o.$element.on("dragstart",g).on("dragend",d)},g=function(e){var a=i.groups||[],l={groups:a};t(e)&&e.originalEvent.dataTransfer.setData(JSON.stringify(l),!0),n.isFunction(i.onDragStart)&&i.onDragStart.call(o.$element,e,r)},d=function(t){n.isFunction(i.onDragEnd)&&i.onDragEnd.call(o.$element,t,r)};this.destroy=function(){o.$element.off("dragstart",g),o.$element.removeAttr("draggable")},l()},r=function(e){var r=this,i={},o={},a=0,l={element:"",items:">",horizontalSensitivity:"10%",axis:["vertical","horizontal"],groups:null,isDroppingAllowed:null,onDragEnter:null,onDragging:null,onDropping:null,onDragLeave:null},s=function(){u(),f(),c()},u=function(){n.extend(i,l,e)},f=function(){o.$element=n(i.element)},c=function(){o.$element.on("dragenter",i.items,m).on("dragover",i.items,D).on("drop",i.items,y).on("dragleave drop",i.items,E)},g=function(n,t){var e,r;return d()?h()?(r=i.horizontalSensitivity.match(/\d+/))?(r=r[0],e=/%$/.test(i.horizontalSensitivity),e&&(r=t/r),n>t-r?"right":r>n?"left":!1):!1:n>t/2?"right":"left":!1},d=function(){return-1!==i.axis.indexOf("horizontal")},h=function(){return-1!==i.axis.indexOf("vertical")},p=function(t,e){var r,i,o,a;return e=e.originalEvent,r=n(t),i=r.outerHeight(),o=r.outerWidth(),(a=g(e.offsetX,o))?a:h()?a=e.offsetY>i/2?"bottom":"top":!1},v=function(e,o,a){var l,s,u,f;return i.groups&&t(a)&&(l=a.originalEvent.dataTransfer.types,u=!1,l=Array.prototype.slice.apply(l),l.forEach(function(n){try{if(s=JSON.parse(n),!s.groups.slice)return;i.groups.forEach(function(n){return-1!==s.groups.indexOf(n)?(u=!0,!1):void 0})}catch(t){}}),!u)?!1:n.isFunction(i.isDroppingAllowed)&&(f=i.isDroppingAllowed.call(e,o,a,r),!f)?!1:!0},m=function(t){a++;var e=p(this,t);v(this,e,t)&&1===a&&n.isFunction(i.onDragEnter)&&i.onDragEnter.call(this,e,t,r)},D=function(t){var e=p(this,t);v(this,e,t)&&(t.preventDefault(),n.isFunction(i.onDragging)&&i.onDragging.call(this,e,t,r))},y=function(t){var e=p(this,t);v(this,e,t)&&(t.preventDefault(),n.isFunction(i.onDropping)&&i.onDropping.call(this,e,t,r))},E=function(t){a--,!a&&n.isFunction(i.onDragLeave)&&i.onDragLeave.call(this,t,r)};this.destroy=function(){o.$element.off("dragenter",i.items,m).off("dragover",i.items,D).off("drop",i.items,y).off("dragleave drop",i.items,E)},s()},i={html5Draggable:e,html5Droppable:r};n.each(i,function(t,e){n.fn[t]=function(r){return r=r||{},this.each(function(){var i=n.data(this,t),o=i instanceof e;return o?void("destroy"===r&&(i.destroy(),n.removeData(this,t))):(r.element=this,void n.data(this,t,new e(r)))}),this}})}(jQuery);